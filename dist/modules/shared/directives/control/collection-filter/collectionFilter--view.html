<div class="collection-filter drop-down">
    <button type="button"
            data-ng-class="{'open-btn': (displayStates[collection] || filters[collection])}"
            data-ng-click="toggleModal(false)">
        {{ collection | capitalAttribute }}&nbsp;
        <i class="material-icons" data-ng-if="!displayStates[collection]">
            expand_more
        </i>
        <i class="material-icons" data-ng-if="displayStates[collection]">
            expand_less
        </i>
    </button>
    <form name="collection-filter-form"
          class="collection-filter-modal"
          style="width: auto;"
          data-ng-if="displayStates[collection]">
        <label data-ng-repeat="feature in features  | orderBy: 'name'"
               data-ng-class="{'active': filters[collection] === feature.id}"
               data-ng-click="toggleModal(true, feature.id, true)"
               data-ng-if="trackName"
               title="{{ feature.name }}">
            <span class="input-mask" data-ng-if="filters[collection] === feature.id">
                <i class="material-icons">
                    radio_button_checked
                </i>
            </span>
            <span class="input-mask" data-ng-if="filters[collection] !== feature.id">
                <i class="material-icons">
                    radio_button_unchecked
                </i>
            </span>
            <input type="radio" id="{{ collection }}-option-{{ feature.id }}"
                   name="active-{{ collection }}"
                   data-ng-model="filters[collection]"
                   data-ng-value="{{ feature.id }}">
            <span>
                {{ feature.name }}
            </span>
        </label>
        <label data-ng-repeat="feature in features"
               data-ng-class="{'active': filters[collection] === feature}"
               data-ng-click="toggleModal(true, feature, true)"
               data-ng-if="!trackName"
               title="{{ feature }}">
            <span class="input-mask" data-ng-if="filters[collection] === feature">
                <i class="material-icons">
                    radio_button_checked
                </i>
            </span>
            <span class="input-mask" data-ng-if="filters[collection] !== feature">
                <i class="material-icons">
                    radio_button_unchecked
                </i>
            </span>
            <input type="radio" id="{{ collection }}-option-{{ feature }}"
                   name="active-{{ collection }}"
                   data-ng-model="filters[collection]"
                   data-ng-value="{{ feature }}">
            <span>
                {{ feature | capitalAttribute }}
            </span>
        </label>
    </form>
</div>