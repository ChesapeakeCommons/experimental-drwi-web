<div class="atlas-filter-dialog-container"
     data-ng-if="filterSet">
    <div class="dialog filter-options">
        <div class="title">
            <span class="title-text"
                  style="padding-left: 1.5rem; font-size: 1.5rem; font-weight: 500;">
                {{ filterKey | capitalAttribute }}
            </span>
            <div class="dismiss-container">
                <div class="dismiss"
                     data-ng-click="closeModal()">
                    <div class="halo"></div>
                    <span class="material-icons">
                        close
                    </span>
                </div>
            </div>
        </div>
        <input id="filter-option-search"
               type="text"
               data-ng-if="filterSet.length > 10"
               data-ng-model="q.token"
               placeholder="Search by name&hellip;">
        <div style="padding: 1rem 1.5rem; overflow: auto;">
            <ul class="option-list margin-0 pad-0 margin-b-1">
                <li class="pad-y-50p flex flex-dir-row flex-align-center"
                    data-ng-repeat="feature in features | filter:q.token">
                    <div class="filter-option-name">
                        <span style="display: block;">
                            {{ feature.name }}
                        </span>
                        <span class="option-label" data-ng-if="feature.program">
                            {{ feature.program.name }}
                        </span>
                    </div>
                    <div class="selection-ctrl"
                         data-ng-if="feature.selected"
                         data-ng-click="feature.selected = !feature.selected">
                        <span class="material-icons">
                            check_box
                        </span>
                    </div>
                    <div class="selection-ctrl"
                         data-ng-if="!feature.selected"
                         data-ng-click="feature.selected = !feature.selected">
                        <span class="material-icons">
                            check_box_outline_blank
                        </span>
                    </div>
                </li>
            </ul>
        </div>
        <div class="dialog-actions pad-1"
             style="border-top: 1px solid #E0E0E0;">
            <div class="pad-r-1"
                 style="display: flex; flex-flow: row nowrap; align-items: center; justify-content: flex-start;
                     flex-grow: 1; flex-shrink: 1;">
                <button type="button"
                        class="cancel"
                        data-ng-click="resetSelections(filterKey, filterSet)">
                    Clear all
                </button>
            </div>
            <button type="button"
                    class="cancel"
                    data-ng-click="closeModal()">
                Cancel
            </button>
            <button type="submit"
                    class="confirm"
                    data-ng-click="setFilter(filterKey, filterSet)">
                Save
            </button>
        </div>
    </div>
</div>