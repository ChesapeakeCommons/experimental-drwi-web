<div data-ng-include="'/templates/header--view.html'"></div>

<main role="main" class="container">

  <div class="site-content">
    <!-- Toolbox -->
    <div class="row toolbox">

      <!-- Filter Tools -->
      <div class="column-12"></div>

      <!-- Pagination Tools -->
      <div class="column-4">
        <ul class="pager pull-right">
          <li class="pull-left">
            <!-- No Project Results to Display -->
            <span data-ng-if="page.projects.properties.num_results === 0">
                No results
            </span>

            <!-- If there are 25 or less projects to display -->
            <span data-ng-if="page.projects.properties.num_results <= 25 && page.projects.properties.num_results !== 0">
                1-{{ page.projects.properties.num_results }} of {{ page.projects.properties.num_results }}
            </span>

            <!-- If user is on the first page and there are more than 25 results -->
            <span data-ng-if="page.projects.properties.page === 1 && page.projects.properties.num_results > 25">
                1-25 of {{ page.projects.properties.num_results | number }}
            </span>

            <!-- If the current page is no the first page -->
            <span data-ng-if="page.projects.properties.page && page.projects.properties.page > 1">
                {{ (page.projects.properties.page*page.projects.properties.features_per_page)-page.projects.properties.features_per_page | number }}-{{ (page.projects.properties.page*page.projects.properties.features_per_page) | number }} of {{ page.projects.properties.num_results | number }}
            </span>
          </li>
          <li data-ng-if="page.projects.properties.page !== page.projects.properties.total_pages && page.projects.properties.num_results !== 0"
              class="next pull-right"><a title="Older" data-ng-click="search.paginate(projects.properties.page+1)">
                <div class="icon retinaicon-retina-icons-v-1-5"></div>
          </a></li>
          <li data-ng-if="page.projects.properties.page !== 1" class="previous pull-right"><a title="Newer" data-ng-click="search.paginate(page.projects.properties.page-1)"><div class="icon retinaicon-retina-icons-v-1-4"></div></a></li>
        </ul>
      </div>

    </div>

    <!-- Project List -->
    <div class="list">
      <article class="row list-item"
               data-ng-if="page.projects.features && !page.projects.features.length">
        <div class="column-16 list-item-content align-center empty-data">
          <div class="icon retinaicon-file-096"></div>
          <p>
            Projects will show up here,
            so you can easily view them later.
          </p>
          <p>
            <a href="javascript:void(0)"
               data-ng-click="page.createProject()">
              Create your first project now
            </a>
          </p>
        </div>
      </article>

      <article class="row list-item" data-ng-repeat="project in page.projects.features track by $index">
        <div class="column-16 list-item-content">
          <h4>
            <span data-ng-if="project.id && project.properties.program_type" class="label label-info">{{ project.properties.program_type }}</span>
            <span data-ng-if="project.id && project.properties.account.properties.name" class="label">{{ project.properties.account.properties.name }}</span>
            <span data-ng-if="project.id && !project.properties.account.properties.name" class="label label-danger">No Funder</span>
            <span data-ng-if="project.id && project.properties.last_modified_by.properties.first_name && project.properties.last_modified_by.properties.last_name" class="label">Last Modified by: {{ project.properties.last_modified_by.properties.first_name }} {{ project.properties.last_modified_by.properties.last_name }}</span>
            <span data-ng-if="project.id && project.properties.modified_on" class="label">Modified on: {{ project.properties.modified_on | date }}</span>
          </h4>
          <h1><a href="/projects/{{ project.id }}#top" title="{{ project.properties.name }} project details">{{ project.properties.name }}</a></h1>
          <p data-ng-bind-html="project.properties.description"></p>
        </div>
      </article>
    </div>
  </div>
</main>

<div data-ng-include="'/templates/footer--view.html'"></div>
