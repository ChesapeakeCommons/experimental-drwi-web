<div class="creation-dialog-container" data-ng-if="visible">
    <form class="dialog" style="width: auto;" data-ng-submit="createChild(name)">
        <div class="title">
            <span class="title-text">Create {{ label }}</span>
            <div class="dismiss-container">
                <div class="dismiss" data-ng-click="closeChildModal()">
                    <div class="halo"></div>
                    <span class="material-icons">
                        close
                    </span>
                </div>
            </div>
        </div>
        <div class="inputs" data-ng-if="(type === 'project' && availableprograms.length > 0) || (type !== 'project')">
            <div>
                <span class="prompt">
                    Enter a name for this {{ label }}.
                </span>
                <input type="text" style="margin: 1rem 0;" data-ng-model="name" class="form-control animate"
                       id="name" name="name" placeholder="&hellip;" />
            </div>
            <div data-ng-if="type === 'project'">
                <span class="prompt">
                    Select a program supported by FieldDoc (<strong>required for project setup</strong>).
                </span>
             <!--   <div class="classification--search" style="position: relative;">
                    <input type="search" style="padding: 1rem; font-size: 1rem;" class="search" value=""
                           placeholder="Search programs"
                           data-ng-model="program"
                           uib-typeahead="suggestion as suggestion.name for suggestion in searchPrograms($viewValue)"
                           typeahead-on-select="setProgram($item, $model, $label)"
                           typeahead-wait-ms="100"
                           typeahead-template-url="templates/search--tpl.html">
                </div>
                -->

                <div class="classification--list" style="margin-top: 24px; font-size: 0.9rem" data-ng-if="availableprograms">
                    <ul>
                        <li data-ng-repeat="a_program in availableprograms track by $index">
                             <span style="border:0px solid red; width:calc(100% - 26px); display:inline-block;">
                                        <a href="/programs/{{a_program.program.id}}">{{ a_program.program.name }}
                                        </a>
                             </span>
                            <span style="border:0px solid red;">
                                 <i class="material-icons"
                                    data-ng-if="programs.indexOf(a_program.program.id) == -1"
                                    data-ng-click = "selectProgram(a_program.program.id,$index)";>
                                                    radio_button_unchecked
                                 </i>
                                <i class="material-icons"
                                   style="color: #0366d6;"
                                   data-ng-if="programs.indexOf(a_program.program.id) > -1"
                                   data-ng-click = "deselectProgram(a_program.program.id,$index)";>
                                    radio_button_checked
                                </i>
                            </span>

                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <div class="inputs" data-ng-if="availableprograms.length == 0">
            <div >

                <!-- style=" float:right;display:inline-block; margin-right:10px; background:#fff4b7; border:1px solid #ffd806; border-radius:4px; padding:0px 8px 0px 12px;"-->
              <!--  <sub>
                    <i class="material-icons" style="color: #ff0000; position:relative; top: 3px;">
                        error
                    </i>
                </sub>
                -->
                A program must be added to your
                <a href="/organizations/{{organization}}">organization
                    <sub>
                        <i class="material-icons" style="position:relative; top: 3px;">
                            group
                        </i>
                    </sub>
                </a>
                before  a new project can be created.

            </a>

            </div>
        </div>

        <div class="dialog-actions">
            <button type="button" class="cancel" data-ng-click="closeChildModal()">
                Cancel
            </button>
            <button type="submit" class="confirm" data-ng-if="type !== 'project'"
                    data-ng-disabled="!name">
                OK
            </button>
            <button type="submit" class="confirm" data-ng-if="type === 'project'"
                    data-ng-disabled="!name || (programs.length == 0)">
                OK
            </button>
        </div>
    </form>
</div>