<div data-ng-include="'/templates/header--view.html'"></div>

<main class="container">
  <form data-ng-submit="page.saveReport()" class="row feature summary">
    <article class="feature-detail">
      <div class="column-16 feature-detail-content">

        <!-- Practice Information -->
        <fieldset>

          <!-- Report Date -->
          <div class="form-group column-8">
            <label for="report_date" class="control-label">
              Report Date
            </label>

            <input data-ng-model="page.report.properties.report_date" class="form-control" type="text" id="report_date" name="report_date" placeholder="Enter a date" />
          </div>

          <!-- Measurement Period -->
          <div class="form-group column-8">
            <label for="measurement_period" class="control-label">
              Measurement Period
            </label>

            <select class="form-control" data-ng-model="page.report.properties.measurement_period" id="measurement_period" name="measurement_period">
              <option value="Pre-Project">Pre-Project</option>
              <option value="Planning">Planning</option>
              <option value="Installation">Installation</option>
              <option value="Monitoring">Monitoring</option>
            </select>
          </div>

          <!-- WIP Reporting Agency -->
          <div class="form-group column-8" data-ng-if="page.report.properties.measurement_period === 'Pre-Project' || page.report.properties.measurement_period === 'Planning' || page.report.properties.measurement_period === 'Installation'">
            <label for="wip_reporting_agency" class="control-label">
              WIP Reporting Agency
            </label>

            <select class="form-control" data-ng-model="page.report.properties.wip_reporting_agency" id="wip_reporting_agency" name="wip_reporting_agency" data-ng-options="value for value in fields.wip_reporting_agency.options">
              <option value="">Select a Report Agency</option>
            </select>
          </div>

        </fieldset>

        <!-- Installation Summary -->
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Pre-Project' || page.report.properties.measurement_period === 'Planning' || page.report.properties.measurement_period === 'Installation'">
          <h2><strong>Installation</strong> Summary</h2>

          <p>
            Protocol 2: In-Stream and Riparian Nutrient Processing Credit within the Hyporheic Zone during Base Flow
          </p>

          <div class="form-group column-8">
            <label for="stream_width_at_bankfull" class="control-label">
              Stream Width at Bankfull
            </label>

            <input data-ng-model="page.report.properties.stream_width_at_bankfull" class="form-control" class="form-control" type="number" id="stream_width_at_bankfull" name="stream_width_at_bankfull" step="0.0001" />
          </div>
          <div class="form-group column-8">
            <label for="stream_width_at_mean_base_flow" class="control-label">
              Stream Width at Mean Base flow
            </label>

            <input data-ng-model="page.report.properties.stream_width_at_mean_base_flow" class="form-control" class="form-control" type="number" id="stream_width_at_mean_base_flow" name="stream_width_at_mean_base_flow" step="0.0001" />
          </div>

          <!-- Left Bank Metrics -->
          <div class="form-group column-5" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="length_of_left_bank_with_improved_connectivity" class="control-label">
              Length of Left Bank with Improved Connectivity
            </label>

            <input data-ng-model="page.report.properties.length_of_left_bank_with_improved_connectivity" class="form-control" class="form-control" type="number" id="length_of_left_bank_with_improved_connectivity" name="length_of_left_bank_with_improved_connectivity" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <div class="form-group column-5">
            <label for="project_left_bank_height" class="control-label">
              Project Left Bank Height
            </label>

            <input data-ng-model="page.report.properties.project_left_bank_height" class="form-control" class="form-control" type="number" id="project_left_bank_height" name="project_left_bank_height" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <div class="form-group column-5">
            <label for="left_bank_bankfull_height" class="control-label">
              Left Bank Bankfull Height
            </label>

            <input data-ng-model="page.report.properties.left_bank_bankfull_height" class="form-control" class="form-control" type="number" id="left_bank_bankfull_height" name="left_bank_bankfull_height" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <!-- Right Bank Metrics -->
          <div class="form-group column-5" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="length_of_right_bank_with_improved_connectivity" class="control-label">
              Length of Right Bank with Improved Connectivity
            </label>

            <input data-ng-model="page.report.properties.length_of_right_bank_with_improved_connectivity" class="form-control" class="form-control" type="number" id="length_of_right_bank_with_improved_connectivity" name="length_of_right_bank_with_improved_connectivity" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <div class="form-group column-5">
            <label for="project_right_bank_height" class="control-label">
              Project Right Bank Height
            </label>

            <input data-ng-model="page.report.properties.project_right_bank_height" class="form-control" class="form-control" type="number" id="project_right_bank_height" name="project_right_bank_height" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <div class="form-group column-5">
            <label for="right_bank_bankfull_height" class="control-label">
              Right Bank Bankfull Height
            </label>

            <input data-ng-model="page.report.properties.right_bank_bankfull_height" class="form-control" class="form-control" type="number" id="right_bank_bankfull_height" name="right_bank_bankfull_height" step="0.0001" />

            <p class="help-text">feet</p>
          </div>

          <div class="form-group column-5">
            <label for="bulk_density_of_soil_in_hyporheic_zone" class="control-label">
              Bulk Density of Soil in Hyporheic Zone
            </label>

            <input data-ng-model="page.report.properties.bulk_density_of_soil_in_hyporheic_zone" class="form-control" class="form-control" type="number" id="bulk_density_of_soil_in_hyporheic_zone" name="bulk_density_of_soil_in_hyporheic_zone" step="0.0001" />

            <p class="help-text">lbs/ft<sup>3</sup></p>
          </div>
        </fieldset>

        <fieldset data-ng-if="page.report.properties.measurement_period === 'Pre-Project' || page.report.properties.measurement_period === 'Planning' || page.report.properties.measurement_period === 'Installation'">
          <p>
            Protocol 3: Floodplain Reconnection Volume Credit
          </p>
          <div class="form-group column-4" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="stream_length_reconnected_at_floodplain" class="control-label">
              Stream Length Reconnected at Floodplain
            </label>

            <input data-ng-model="page.report.properties.stream_length_reconnected_at_floodplain" class="form-control" class="form-control" type="number" id="stream_length_reconnected_at_floodplain" name="stream_length_reconnected_at_floodplain" step="0.0001" />

            <p class="help-text">feet</p>
          </div>
          <div class="form-group column-4" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="connected_floodplain_surface_area" class="control-label">
              Connected Floodplain Surface Area
            </label>

            <input data-ng-model="page.report.properties.connected_floodplain_surface_area" class="form-control" class="form-control" type="number" id="connected_floodplain_surface_area" name="connected_floodplain_surface_area" step="0.0000000001" />

            <p class="help-text">acres</p>
          </div>

          <div class="form-group column-4" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="watershed_impervious_area" class="control-label">
              Watershed Impervious Area
            </label>

            <input data-ng-model="page.report.properties.watershed_impervious_area" class="form-control" class="form-control" type="number" id="watershed_impervious_area" name="watershed_impervious_area" step="0.0001" />

            <p class="help-text">acres</p>
          </div>

          <div class="form-group column-4" data-ng-if="page.report.properties.measurement_period !== 'Pre-Project'">
            <label for="watershed_pervious_area" class="control-label">
              Watershed Pervious Area
            </label>

            <input data-ng-model="page.report.properties.watershed_pervious_area" class="form-control" class="form-control" type="number" id="watershed_pervious_area" name="watershed_pervious_area" step="0.0001" />

            <p class="help-text">acres</p>
          </div>
          <div class="form-group column-4">
            <label for="rainfall_depth_where_connection_occurs" class="control-label">
              Fraction of Runoff Carried in the Channel
            </label>

            <input data-ng-model="page.report.properties.rainfall_depth_where_connection_occurs" class="form-control" class="form-control" type="number" id="rainfall_depth_where_connection_occurs" name="rainfall_depth_where_connection_occurs" step="0.0001" />

            <p class="help-text">acres</p>
          </div>
          <div class="form-group column-4">
            <label for="floodplain_connection_volume" class="control-label">
              Fraction of Runoff Treated in the Floodplain
            </label>

            <input data-ng-model="page.report.properties.floodplain_connection_volume" class="form-control" class="form-control" type="number" id="floodplain_connection_volume" name="floodplain_connection_volume" step="0.0001" />
          </div>
        </fieldset>

        <!-- Interim BMP Metrics Data-->
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Monitoring'">
          <h2><strong>Interim</strong> BMP Metrics Data</h2>
          <p>
            Hydrologic
          </p>

          <div class="form-group column-8">
            <label for="mean_annual_bankfull_flow" class="control-label">
              Mean Annual Bankfull Flow
            </label>

            <input data-ng-model="page.report.properties.mean_annual_bankfull_flow" class="form-control" class="form-control" type="number" id="mean_annual_bankfull_flow" name="mean_annual_bankfull_flow" step="0.0001" />

            <p class="help-text"></p>
          </div>
          <div class="form-group column-8">
            <label for="monthly_flow_frequency_probability_plot" class="control-label">
              Monthly Flow Frequency Probability Plot
            </label>

            <input data-ng-model="page.report.properties.monthly_flow_frequency_probability_plot" class="form-control" class="form-control" type="text" id="monthly_flow_frequency_probability_plot" name="monthly_flow_frequency_probability_plot" />

            <p class="help-text"></p>
          </div>
        </fieldset>
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Monitoring'">
          <p>
            Hydraulic
          </p>

          <div class="form-group column-8">
            <label for="number_of_overbank_flows_per_year" class="control-label">
              Number of Over-bank Flows per Year
            </label>

            <input data-ng-model="page.report.properties.number_of_overbank_flows_per_year" class="form-control" class="form-control" type="number" id="number_of_overbank_flows_per_year" name="number_of_overbank_flows_per_year" step="0.0001" />
          </div>
        </fieldset>
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Monitoring'">
          <p>
            Riparian Vegetation
          </p>

          <div class="form-group column-4">
            <label for="left_bank_vegetative_protection" class="control-label">
              Left Bank Vegetative Protection
            </label>

            <input data-ng-model="page.report.properties.left_bank_vegetative_protection" class="form-control" class="form-control" type="number" id="left_bank_vegetative_protection" name="left_bank_vegetative_protection" step="0.0001" />
          </div>
          <div class="form-group column-4">
            <label for="left_bank_riparian_vegetative_zone_width" class="control-label">
              Left Bank Riparian Vegetative Zone Width
            </label>

            <input data-ng-model="page.report.properties.left_bank_riparian_vegetative_zone_width" class="form-control" class="form-control" type="number" id="left_bank_riparian_vegetative_zone_width" name="left_bank_riparian_vegetative_zone_width" step="0.0001" />
          </div>

          <div class="form-group column-4">
            <label for="right_bank_vegetative_protection" class="control-label">
              Right Bank Vegetative Protection
            </label>

            <input data-ng-model="page.report.properties.right_bank_vegetative_protection" class="form-control" class="form-control" type="number" id="right_bank_vegetative_protection" name="right_bank_vegetative_protection" step="0.0001" />
          </div>
          <div class="form-group column-4">
            <label for="right_bank_riparian_vegetative_zone_width" class="control-label">
              Right Bank Riparian Vegetative Zone Width
            </label>

            <input data-ng-model="page.report.properties.right_bank_riparian_vegetative_zone_width" class="form-control" class="form-control" type="number" id="right_bank_riparian_vegetative_zone_width" name="right_bank_riparian_vegetative_zone_width" step="0.0001" />
          </div>
        </fieldset>

        <!-- Adaptive Management Checks -->
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Monitoring'">
          <h2><strong>Adaptive</strong> Management Checks Performed</h2>

          <div class="form-group">
            <div class="checkbox">
              <label class="control-label">
                <input data-ng-model="page.report.properties.adaptive_management_hydrologic" type="checkbox" id="adaptive_management_hydrologic" name="adaptive_management_hydrologic" /> Does discharge need to be adjusted through dam management, channel adjustments, or riparian plantings? If so, see Sellner et al., 2012, p.101.
              </label>
            </div>
          </div>

          <div class="form-group">
            <div class="checkbox">
              <label class="control-label">
                <input data-ng-model="page.report.properties.adaptive_management_hydraulic" type="checkbox" id="adaptive_management_hydraulic" name="adaptive_management_hydraulic" /> Is overland accretion occurring? If so, see Sellner et al., 2012, p.103.
              </label>
            </div>
          </div>

          <div class="form-group">
            <div class="checkbox">
              <label class="control-label">
                <input data-ng-model="page.report.properties.adaptive_management_riparian_vegetation" type="checkbox" id="adaptive_management_riparian_vegetation" name="adaptive_management_riparian_vegetation" /> Protocol 2 requires adequate riparian plant establishment to provide a carbon source for de-nitrification.
              </label>
            </div>
          </div>

        </fieldset>

        <!-- Notes -->
        <fieldset data-ng-if="page.report.properties.measurement_period === 'Planning' || page.report.properties.measurement_period === 'Installation' || page.report.properties.measurement_period === 'Monitoring'">
          <h2><strong>Notes</strong></h2>

          <div class="form-group">
            <textarea rows="1" data-ng-model="page.report.properties.notes" class="form-control animate"  msd-elastic id="notes" name="notes" placeholder="Notes">{{ page.report.properties.notes }}</textarea>
          </div>

        </fieldset>

        <div class="form-actions">
          <button type="submit"class="button button-submit">
            Save Changes
          </button>
          <button type="button" data-ng-click="page.deleteReport()"
                  class="button button-submit">
            Delete
          </button>
        </div>

      </div>
    </article>
  </form>
</main>

<div data-ng-include="'/templates/footer--view.html'"></div>
