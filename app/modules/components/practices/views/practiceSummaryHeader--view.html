<section class="row feature summary">
  <article class="feature-detail"
           data-ng-if="!page.status.loading">
    <div class="column-11 feature-detail-content">

      <h1 data-ng-if="page.summary.practice.properties.practice_type !== 'Agriculture Generic'">Summary for {{ page.summary.practice.properties.practice_type }}</h1>
      <h1 data-ng-if="page.summary.practice.properties.practice_type === 'Agriculture Generic'">Summary for Other Agricultural Practices</h1>
      <p data-ng-if="page.summary.practice.properties.description" data-ng-bind-html="page.summary.practice.properties.description"></p>

      <p><small>
        <strong>Project Title:</strong> {{ page.summary.site.properties.project.properties.name }}
        <strong>Site Name:</strong> {{ page.summary.site.properties.name }}<br />
        <strong>Stream Name: </strong> {{ page.summary.site.properties.segment.properties.river_name }}
        <strong>HGMR: </strong> {{ page.summary.site.properties.segment.properties.hgmr_name }}
      </small></p>

      <!-- Map - LP -->
      <div class="form-element">
        <div class="autocomplete">
          <label data-ng-if="!page.showGeocoder" class="control-label pull-right">
            <a href="javascript:void(0);" data-ng-click="page.showGeocoder =! page.showGeocoder">
              Search for an address or city
            </a>
          </label>
          <div data-ng-if="page.showGeocoder" class="mapboxGeocoder">
            <input type="text" id="address" name="address" data-ng-model="page.geocode.query" class="form-control" placeholder="Type in an address..."
              mapbox-geocoder mapbox-geocoder-direction="forward" mapbox-geocoder-query="page.geocode.query" mapbox-geocoder-response="page.geocode.response"
              autofocus="autofocus" />
          </div>
          <br />
        </div>
      
        <div style="position:relative;">
          <leaflet id="practice--map" class="map" center="page.map.center" defaults="page.map.defaults" layers="page.map.layers" bounds="page.map.bounds"></leaflet>
          <div class="progress--modal" data-ng-if="page.progressValue && page.progressValue > 0">
            <div class="progress--container">
              <p>
                <strong>{{ page.progressMessage }}
                </strong>
              </p>
              <div class="progress--meter--bar--wrapper">
                <div class="progress--meter--bar" style="width: {{ page.progressValue }}%;"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- <leaflet id="practice--map" class="map" center="page.map.center" defaults="page.map.defaults" layers="page.map.layers" bounds="page.map.bounds"></leaflet> -->
      </div>
      <!-- Map End - LP -->
    </div>

    <nav class="column-5 contextual-navigation-wrapper">
      <h6><strong>Tools</strong></h6>
      <ul class="contextual-navigation">
        <!-- Practice Manangement Navigation -->
        <li class="active">
          <a href="/projects/{{ page.summary.site.properties.project_id }}/sites/{{ page.summary.site.id }}/practices/{{ page.summary.practice.id }}">
            Practice Overview
          </a>
        </li>
        <li data-ng-if="page.permissions.can_edit">
          <a href="/projects/{{ page.summary.site.properties.project_id }}/sites/{{ page.summary.site.id }}/practices/{{ page.summary.practice.id }}/edit">
            Edit
          </a>
        </li>
      </ul>
    </nav>

  </article>
</section>
